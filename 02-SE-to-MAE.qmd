---
title: "From SEs to MAE"
author: Laura Symul
format: 
   html:
     page-layout: full
     code-fold: true
     toc: true
     toc-location: left
     toc-depth: 5
     embed-resources: true
execute:
  cache: true
  warning: false
knitr:
  opts_chunk:
    out.width: "100%"
editor: source
---


In this section, we assemble all `SE` objects created in the previous section into a single `MultiAssayExperiment` object.


### `colData`

```{r}

mae_coldata |> as_tibble()

```

### Assays

#### Visit attendance

```{r}
se_va
```



#### Weekly metagenomics data with LBP strains relative abundances

```{r}
se_mg
```



#### Weekly 16S rRNA data

```{r}
se_16S
```


### Assembling the `MultiAssayExperiment` object


```{r}

assay_list <- 
  list(
    visit_attendance = se_va,
    mg_ksanity = se_mg,
    amplicon_ASV_all = se_16S
    )

mae <- 
  MultiAssayExperiment::MultiAssayExperiment(
    experiments = MultiAssayExperiment::ExperimentList(assay_list),
    colData = mae_coldata |> dplyr::rename(.sample = sample_id),
    metadata = list(data_source = data_source, date_created = today())
  )

```


```{r}

mae

```




